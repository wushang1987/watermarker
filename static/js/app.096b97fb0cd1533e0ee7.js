webpackJsonp([1],{A2uR:function(e,a){},AGOJ:function(e,a){},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("7+uW"),n=t("Au9i"),l=t.n(n),i=(t("d8/S"),{render:function(){var e=this.$createElement,a=this._self._c||e;return a("div",{attrs:{id:"app"}},[a("mt-header",{attrs:{fixed:"",title:this.$route.name}}),this._v(" "),a("router-view")],1)},staticRenderFns:[]});var o=t("VU/8")({name:"App"},i,!1,function(e){t("AGOJ")},null,null).exports,d=t("/ocq"),s=t("EcSl"),m=t.n(s),c={name:"HelloWorld",data:function(){return{markedImg:"",markedAlpha:50,markedColor:"#fff",markedSize:16,markedText:"这是一个小水印",rawImg:"",controlDisabled:!0}},methods:{handleImgChange:function(e){var a=this,t=e.target.files[0];this.rawImg=t;var r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a.markedImg=e.target.result,a.controlDisabled=!1}},handleImageMarked:function(){var e=this;if(!this.rawImg.type.match("image.*"))return!1;m()([this.rawImg]).image(this.handleTextRotate).render().then(function(a){console.log(a),e.markedImg=a[0].src})},handleTextRotate:function(e){var a=e.getContext("2d"),t=this.markedSize,r=this.markedText;r=(r+="   ").repeat(50);var n=e.height;a.globalAlpha=this.markedAlpha/100,a.fillStyle=this.markedColor,a.font=t+"px Arial",a.rotate(45*Math.PI/180);for(var l=0;l<100;l++)n-=96,a.fillText(r,0,n);return e},handleColorChange:function(e){this.markedColor=e.target.value}}},u={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"main"},[t("img",{attrs:{id:"imgPreview",src:e.markedImg}}),e._v(" "),t("input",{attrs:{id:"imgInput",type:"file",accept:"image/*"},on:{change:e.handleImgChange}}),e._v(" "),t("div",[t("mt-field",{attrs:{label:"内容",placeholder:"请输入水印内容..."},model:{value:e.markedText,callback:function(a){e.markedText=a},expression:"markedText"}})],1),e._v(" "),t("div",{staticClass:"markedInline"},[t("span",[e._v("颜色")]),e._v(" "),t("div",{staticClass:"markedColorRow"},[t("input",{attrs:{id:"markedC1",type:"radio",value:"#fff",name:"color",checked:""},on:{change:e.handleColorChange}}),e._v(" "),t("label",{staticClass:"markedColor",staticStyle:{"background-color":"#fff"},attrs:{for:"markedC1"}}),e._v(" "),t("input",{attrs:{id:"markedC2",type:"radio",value:"#000",name:"color"},on:{change:e.handleColorChange}}),e._v(" "),t("label",{staticClass:"markedColor",staticStyle:{left:"80px","background-color":"#000"},attrs:{for:"markedC2"}}),e._v(" "),t("input",{attrs:{id:"markedC3",type:"radio",value:"#f7333b",name:"color"},on:{change:e.handleColorChange}}),e._v(" "),t("label",{staticClass:"markedColor",staticStyle:{left:"112px","background-color":"#f7333b"},attrs:{for:"markedC3"}})])]),e._v(" "),t("div",{staticClass:"markedInline"},[t("span",{staticClass:"markedLabel"},[e._v("大小")]),e._v(" "),t("mt-range",{attrs:{min:16,max:80,step:8,"bar-height":5},model:{value:e.markedSize,callback:function(a){e.markedSize=a},expression:"markedSize"}})],1),e._v(" "),t("div",{staticClass:"markedInline",staticStyle:{"margin-top":"8px"}},[t("span",{staticClass:"markedLabel"},[e._v("透明度")]),e._v(" "),t("mt-range",{attrs:{min:0,max:100,step:10,"bar-height":5},model:{value:e.markedAlpha,callback:function(a){e.markedAlpha=a},expression:"markedAlpha"}})],1),e._v(" "),t("label",{attrs:{id:"imgLabel",for:"imgInput"}},[e._v("选择图片")]),e._v(" "),t("mt-button",{attrs:{type:"primary",size:"large",disabled:e.controlDisabled},nativeOn:{click:function(a){e.handleImageMarked(a)}}},[e._v("添加水印")])],1)},staticRenderFns:[]};var h=t("VU/8")(c,u,!1,function(e){t("A2uR")},"data-v-3e2531d6",null).exports;r.default.use(d.a);var p=new d.a({routes:[{path:"/",name:"小水印",component:h}]});r.default.config.productionTip=!1,r.default.use(l.a),new r.default({el:"#app",router:p,components:{App:o},template:"<App/>"})},"d8/S":function(e,a){}},["NHnr"]);
//# sourceMappingURL=app.096b97fb0cd1533e0ee7.js.map